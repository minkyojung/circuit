/**
 * Circuit Design System - Design Tokens
 * Unified token system with light/dark mode support
 */

@layer base {
  :root {
    /* ===== SPACING SCALE (8px grid) ===== */
    --space-0: 0;
    --space-1: 0.25rem;    /* 4px - half step */
    --space-2: 0.5rem;     /* 8px - base unit */
    --space-3: 0.75rem;    /* 12px */
    --space-4: 1rem;       /* 16px */
    --space-5: 1.5rem;     /* 24px */
    --space-6: 2rem;       /* 32px */
    --space-8: 3rem;       /* 48px */
    --space-10: 4rem;      /* 64px */
    --space-12: 6rem;      /* 96px */

    /* ===== TYPOGRAPHY SCALE ===== */
    /* Font sizes (rem-based) */
    --font-xs: 0.6875rem;   /* 11px */
    --font-sm: 0.75rem;     /* 12px */
    --font-base: 0.875rem;  /* 14px - default */
    --font-md: 1rem;        /* 16px */
    --font-lg: 1.125rem;    /* 18px */
    --font-xl: 1.25rem;     /* 20px */
    --font-2xl: 1.5rem;     /* 24px */
    --font-3xl: 1.875rem;   /* 30px */

    /* Line heights */
    --leading-tight: 1.25;
    --leading-snug: 1.375;
    --leading-normal: 1.5;
    --leading-relaxed: 1.625;
    --leading-loose: 2;

    /* Letter spacing */
    --tracking-tighter: -0.05em;
    --tracking-tight: -0.025em;
    --tracking-normal: 0;
    --tracking-wide: 0.025em;
    --tracking-wider: 0.05em;

    /* Font weights */
    --font-light: 300;
    --font-normal: 400;
    --font-medium: 500;
    --font-semibold: 600;
    --font-bold: 700;

    /* ===== BORDER & RADIUS ===== */
    --radius-sm: 0.375rem;  /* 6px */
    --radius-md: 0.5rem;    /* 8px */
    --radius-lg: 0.65rem;   /* 10.4px - current design */
    --radius-xl: 0.75rem;   /* 12px */
    --radius-full: 9999px;

    /* Border widths */
    --border-width: 1px;
    --border-width-2: 2px;
    --border-width-4: 4px;

    /* ===== TRANSITIONS ===== */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-bounce: 400ms cubic-bezier(0.68, -0.55, 0.265, 1.55);

    /* ===== SHADOWS ===== */
    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);

    /* ===== Z-INDEX SCALE ===== */
    --z-base: 0;
    --z-dropdown: 1000;
    --z-sticky: 1100;
    --z-modal: 1300;
    --z-popover: 1400;
    --z-tooltip: 1500;

    /* ===== UI DENSITY (Compact Mode - Default) ===== */
    /* List/Menu item spacing */
    --list-item-gap: 0.125rem;        /* 2px - compact */
    --list-item-padding-y: 0.25rem;   /* 4px - compact */
    --list-item-padding-x: 0.5rem;    /* 8px - compact */
    --list-item-height: 1.75rem;      /* 28px - compact */

    /* Button/Interactive element spacing */
    --interactive-padding-y: 0.375rem; /* 6px - compact */
    --interactive-padding-x: 0.75rem;  /* 12px - compact */

    /* Section/Group spacing */
    --section-gap: 0.5rem;     /* 8px - compact */
    --group-gap: 0.25rem;      /* 4px - compact */
  }

  /* ===== COMFORTABLE MODE ===== */
  .comfortable {
    --list-item-gap: 0.375rem;        /* 6px - comfortable */
    --list-item-padding-y: 0.5rem;    /* 8px - comfortable */
    --list-item-padding-x: 0.75rem;   /* 12px - comfortable */
    --list-item-height: 2.25rem;      /* 36px - comfortable */

    --interactive-padding-y: 0.5rem;  /* 8px - comfortable */
    --interactive-padding-x: 1rem;    /* 16px - comfortable */

    --section-gap: 0.75rem;    /* 12px - comfortable */
    --group-gap: 0.5rem;       /* 8px - comfortable */
  }

  /* ===== LIGHT MODE COLORS ===== */
  :root {
    --radius: var(--radius-lg);

    /* ===== APPLE-STYLE SEMANTIC COLOR SYSTEM ===== */

    /* Background Hierarchy (Light Mode) - Very subtle green hint */
    --background-primary: oklch(0.945 0.003 150);    /* Window background with subtle green hint */
    --background-secondary: oklch(1 0 0);            /* #FFFFFF - Pure white cards */
    --background-tertiary: oklch(0.965 0.003 150);   /* Nested surfaces with subtle green hint */

    /* Label Hierarchy (Light Mode) - Apple System Colors */
    --label-primary: rgba(0, 0, 0, 0.85);            /* 85% - labelColor (Apple standard) */
    --label-secondary: rgba(0, 0, 0, 0.50);          /* 50% - secondaryLabelColor (Apple standard) */
    --label-tertiary: rgba(0, 0, 0, 0.25);           /* 25% - tertiaryLabelColor (Apple standard) */
    --label-quaternary: rgba(0, 0, 0, 0.10);         /* 10% - quaternaryLabelColor (Apple standard) */

    /* Fill Hierarchy (Light Mode) - Interactive elements */
    --fill-primary: rgba(120, 120, 128, 0.36);       /* Buttons, controls - level 1 */
    --fill-secondary: rgba(120, 120, 128, 0.32);     /* Level 2 */
    --fill-tertiary: rgba(118, 118, 128, 0.24);      /* Level 3 */
    --fill-quaternary: rgba(116, 116, 128, 0.18);    /* Level 4 */

    /* Separators (Light Mode) */
    --separator-opaque: rgba(0, 0, 0, 0.1);          /* Solid dividers */
    --separator-translucent: rgba(0, 0, 0, 0.05);    /* Subtle dividers */

    /* Materials - Glassmorphism Hierarchy (Light Mode) - Very subtle green hint */
    --material-thin: rgba(244, 246, 245, 0.60);      /* Subtle glass with green hint */
    --material-regular: rgba(244, 246, 245, 0.80);   /* Standard glass with green hint */
    --material-thick: rgba(244, 246, 245, 0.90);     /* Strong glass with green hint */
    --material-ultra-thick: rgba(244, 246, 245, 0.97); /* Maximum glass with green hint */

    /* ===== LEGACY TOKENS (mapped to new system) ===== */
    --background: var(--background-primary);
    --foreground: var(--label-primary);
    --foreground-muted: var(--label-secondary);

    /* Surface colors */
    --card: var(--background-secondary);
    --card-foreground: var(--label-primary);

    --popover: var(--background-secondary);
    --popover-foreground: var(--label-primary);

    /* Brand colors */
    --primary: oklch(0.54 0.10 162);                 /* #2D916F - Teal green */
    --primary-foreground: oklch(1 0 0);              /* #FFFFFF */

    --secondary: oklch(0.92 0 0);                    /* #EBEBEB - Light gray */
    --secondary-foreground: oklch(0.24 0 0);         /* #383838 */

    /* Muted/subtle colors */
    --muted: oklch(0.96 0 0);                        /* #F5F5F5 - Subtle backgrounds */
    --muted-foreground: rgba(0, 0, 0, 0.50);         /* 50% - Apple secondaryLabelColor */

    --accent: oklch(0.94 0.02 162);                  /* Very light teal tint */
    --accent-foreground: oklch(0.54 0.10 162);       /* #2D916F - Teal green */

    /* Semantic colors */
    --destructive: oklch(0.55 0.30 25);              /* Red - more vibrant */
    --destructive-foreground: oklch(1 0 0);          /* White */

    --success: oklch(0.55 0.22 150);                 /* Green - more vibrant */
    --success-foreground: oklch(1 0 0);

    --warning: oklch(0.65 0.22 80);                  /* Yellow-orange - more vibrant */
    --warning-foreground: oklch(0.2 0 0);

    --info: oklch(0.55 0.22 250);                    /* Blue - more vibrant */
    --info-foreground: oklch(1 0 0);

    /* UI elements */
    --border: var(--separator-opaque);
    --input: oklch(0.92 0 0);                        /* #EBEBEB */
    --ring: oklch(0.54 0.10 162);                    /* #2D916F - Focus ring */

    /* Window glassmorphism */
    --window-glass: var(--material-regular);         /* Standard glass effect for window */

    /* Sidebar colors - Apple HIG hierarchy */
    --sidebar: oklch(0.925 0 0);                     /* #E8E8E8 - Sidebar (darker than window) */
    --sidebar-glass: var(--material-regular);        /* Glassmorphism backdrop */
    --sidebar-foreground: rgba(0, 0, 0, 0.85);       /* 85% - Apple labelColor */
    --sidebar-foreground-muted: rgba(0, 0, 0, 0.50); /* 50% - Apple secondaryLabelColor */
    --sidebar-primary: oklch(0.54 0.10 162);         /* #2D916F - Teal green */
    --sidebar-primary-foreground: oklch(1 0 0);
    --sidebar-accent: rgba(0, 0, 0, 0.04);           /* Selected: 4% black overlay on glass (matches hover) */
    --sidebar-accent-foreground: rgba(0, 0, 0, 0.95); /* Selected text: 95% black for contrast */
    --sidebar-hover: rgba(0, 0, 0, 0.04);            /* Hover: 4% black overlay on glass */
    --sidebar-border: var(--separator-opaque);
    --sidebar-ring: oklch(0.54 0.10 162);

    /* Chat UI colors */
    --chat-input-outer: oklch(0.945 0 0);            /* Clear separation from background */
    --chat-input-border: var(--separator-opaque);
    --chat-input-inner: oklch(0.985 0 0);            /* Bright, elevated surface */
    --chat-button-selected: oklch(0.88 0 0);         /* Clear selected state */
    --chat-button-default: oklch(0.96 0 0);          /* Subtle, matches inner surface */

    /* shadcn sidebar compat (HSL) */
    --sidebar-background: 0 0% 91%;                  /* #E9E9E9 */

    /* Status Bar colors */
    --statusbar-bg: oklch(0.97 0 0);                 /* #F7F7F7 - Lighter */
    --statusbar-border: var(--separator-opaque);
    --statusbar-label: rgba(0, 0, 0, 0.5);           /* 50% - More subtle label */
    --statusbar-value: rgba(0, 0, 0, 0.4);           /* 40% - More subtle value */
    --statusbar-progress-bg: rgba(0, 0, 0, 0.04);    /* Ultra subtle track */

    /* StatusBar progress colors - aliased to semantic colors for consistency */
    --statusbar-progress-green: var(--success);      /* Green progress → success color */
    --statusbar-progress-yellow: var(--warning);     /* Yellow progress → warning color */
    --statusbar-progress-orange: var(--warning);     /* Orange progress → warning color */
    --statusbar-progress-red: var(--destructive);    /* Red progress → destructive color */

    /* Git status colors - Git-specific states with semantic color relationships */
    --status-merged: oklch(0.55 0.25 290);           /* Purple (unique) - PR merged */
    --status-working: oklch(0.62 0.18 60);           /* Yellow-orange (≈ warning) - changes in working tree */
    --status-synced: oklch(0.55 0.22 150);           /* Green (≈ success) - in sync with remote */

    /* ===== GLASS/OVERLAY EFFECTS ===== */
    /* Glass backgrounds and borders */
    --glass-bg: var(--material-regular);             /* 유리 배경 효과 */
    --glass-border: var(--separator-opaque);         /* 유리 테두리 */
    --glass-hover: rgba(0, 0, 0, 0.04);             /* 호버 오버레이 (4% black) */

    /* Additional semantic names for existing tokens */
    --text-muted: var(--label-tertiary);            /* 흐린 텍스트 (50% opacity) */
    --bg-card: var(--background-secondary);         /* 카드 배경 */
    --bg-card-elevated: var(--background-tertiary); /* 더 높은 카드 배경 */
    --bg-section: var(--background-primary);        /* 섹션 배경 */

    /* Overlay system for hover/interaction states */
    --overlay-thin: rgba(0, 0, 0, 0.02);           /* 매우 약한 오버레이 (2%) - subtle backgrounds */
    --overlay-light: rgba(0, 0, 0, 0.04);          /* 가벼운 오버레이 (4%) - hover states */
    --overlay-medium: rgba(0, 0, 0, 0.08);         /* 중간 오버레이 (8%) - active/pressed states */
    --overlay-strong: rgba(0, 0, 0, 0.12);         /* 강한 오버레이 (12%) - emphasis */

    /* Modal/Dialog backdrop overlays */
    --overlay-backdrop: rgba(0, 0, 0, 0.5);        /* 50% - Standard modal backdrop */
    --overlay-backdrop-light: rgba(0, 0, 0, 0.3);  /* 30% - Lighter backdrop */
    --overlay-backdrop-strong: rgba(0, 0, 0, 0.7); /* 70% - Stronger backdrop */

    /* Interactive state tokens - semantic aliases for consistency */
    --state-hover: var(--overlay-light);           /* Hover overlay (4%) */
    --state-active: var(--overlay-medium);         /* Active/pressed overlay (8%) */
    --state-focus-ring: var(--ring);               /* Focus ring color (blue) */
    --state-disabled-opacity: 0.5;                 /* Disabled state opacity */

    /* Border overlays for subtle borders */
    --border-thin: rgba(0, 0, 0, 0.05);            /* 매우 약한 테두리 (5%) */
    --border-light: rgba(0, 0, 0, 0.10);           /* 가벼운 테두리 (10%) */
    --border-medium: rgba(0, 0, 0, 0.15);          /* 중간 테두리 (15%) */

    /* Circuit brand color */
    --circuit-green: oklch(0.54 0.10 162);         /* #2D916F - Circuit 브랜드 그린 */
    --circuit-error: var(--destructive);           /* 에러 색상 */
  }

  /* ===== DARK MODE COLORS ===== */
  .dark {
    /* ===== APPLE-STYLE SEMANTIC COLOR SYSTEM (DARK) ===== */

    /* Background Hierarchy - Base (dimmer, for background layers) - Subtle green hint */
    --background-base-primary: oklch(0.15 0.005 150);      /* Very dark with green hint */
    --background-base-secondary: oklch(0.18 0.004 150);    /* Dark with subtle green */
    --background-base-tertiary: oklch(0.20 0.004 150);     /* Slightly lighter */

    /* Background Hierarchy - Elevated (brighter, for foreground layers) - Subtle green hint */
    --background-elevated-primary: oklch(0.22 0.003 150);  /* Elevated with green hint */
    --background-elevated-secondary: oklch(0.25 0.003 150); /* Elevated 2 */
    --background-elevated-tertiary: oklch(0.28 0.003 150); /* Elevated 3 */

    /* Default background tokens (using base for main background) */
    --background-primary: var(--background-base-secondary);      /* Main window */
    --background-secondary: var(--background-elevated-primary);  /* Cards */
    --background-tertiary: var(--background-elevated-secondary); /* Nested */

    /* Label Hierarchy (Dark Mode) - Apple semantic naming */
    --label-primary: rgba(255, 255, 255, 1.0);       /* 100% - Main text */
    --label-secondary: rgba(255, 255, 255, 0.9);     /* 90% - Supporting text */
    --label-tertiary: rgba(255, 255, 255, 0.40);     /* 40% - Subtle text/placeholders (WCAG AA: 4.9:1) */
    --label-quaternary: rgba(255, 255, 255, 0.18);   /* 18% - Very subtle decorative elements (not for text) */

    /* Fill Hierarchy (Dark Mode) - Interactive elements */
    --fill-primary: rgba(120, 120, 128, 0.36);       /* Buttons, controls - level 1 */
    --fill-secondary: rgba(120, 120, 128, 0.32);     /* Level 2 */
    --fill-tertiary: rgba(118, 118, 128, 0.24);      /* Level 3 */
    --fill-quaternary: rgba(116, 116, 128, 0.18);    /* Level 4 */

    /* Separators (Dark Mode) */
    --separator-opaque: rgba(255, 255, 255, 0.1);    /* Solid dividers */
    --separator-translucent: rgba(255, 255, 255, 0.05); /* Subtle dividers */

    /* Materials - Glassmorphism Hierarchy (Dark Mode) - Very subtle green hint */
    --material-thin: rgba(26, 28, 27, 0.7);          /* Subtle glass with green hint */
    --material-regular: rgba(26, 28, 27, 0.85);      /* Standard glass with green hint */
    --material-thick: rgba(26, 28, 27, 0.92);        /* Strong glass with green hint */
    --material-ultra-thick: rgba(26, 28, 27, 0.97);  /* Maximum glass with green hint */

    /* ===== LEGACY TOKENS (mapped to new system) ===== */
    --background: var(--background-primary);
    --foreground: var(--label-primary);
    --foreground-muted: var(--label-secondary);

    /* Surface colors */
    --card: var(--background-secondary);
    --card-foreground: var(--label-primary);

    --popover: var(--background-elevated-primary);
    --popover-foreground: var(--label-primary);

    /* Brand colors - slightly brightened for dark mode */
    --primary: oklch(0.60 0.11 162);                 /* #2D916F brightened for dark mode */
    --primary-foreground: oklch(0.12 0 0);           /* Dark text on primary */

    --secondary: var(--background-elevated-tertiary); /* #424242 - Dark gray */
    --secondary-foreground: var(--label-primary);

    /* Muted/subtle colors */
    --muted: var(--background-elevated-secondary);   /* #3A3A3A - Sidebar bg dark */
    --muted-foreground: rgba(255, 255, 255, 0.5);    /* 50% white - subtle gray like Shadcn */

    --accent: oklch(0.30 0.03 162);                  /* Dark teal tint */
    --accent-foreground: oklch(0.60 0.11 162);       /* Brightened teal */

    /* Semantic colors - adjusted for dark backgrounds */
    --destructive: oklch(0.60 0.33 25);              /* Brighter red - more vibrant */
    --destructive-foreground: oklch(0.98 0 0);

    --success: oklch(0.60 0.25 150);                 /* Brighter green - more vibrant */
    --success-foreground: oklch(0.98 0 0);

    --warning: oklch(0.70 0.25 80);                  /* Brighter yellow - more vibrant */
    --warning-foreground: oklch(0.15 0 0);

    --info: oklch(0.60 0.25 250);                    /* Brighter blue - more vibrant */
    --info-foreground: oklch(0.98 0 0);

    /* UI elements */
    --border: var(--separator-opaque);
    --input: var(--background-elevated-secondary);   /* #3A3A3A */
    --ring: oklch(0.60 0.11 162);                    /* #2D916F brightened ring */

    /* Window glassmorphism */
    --window-glass: var(--material-regular);         /* Standard glass effect - Apple-style */

    /* Sidebar colors - dark variant */
    --sidebar: var(--background-base-tertiary);      /* #2E2E2E */
    --sidebar-glass: var(--material-regular);        /* Glassmorphism backdrop - Apple-style */
    --sidebar-foreground: rgba(255, 255, 255, 0.85); /* Apple HIG: 85% white for vibrancy */
    --sidebar-foreground-muted: rgba(255, 255, 255, 0.55); /* Apple HIG: 55% white for secondary text */
    --sidebar-primary: oklch(0.60 0.11 162);         /* #2D916F brightened */
    --sidebar-primary-foreground: oklch(0.12 0 0);
    --sidebar-accent: rgba(255, 255, 255, 0.06);     /* Selected: 6% white overlay on glass (matches hover) */
    --sidebar-accent-foreground: rgba(255, 255, 255, 0.95); /* Selected text: 95% white for contrast */
    --sidebar-hover: rgba(255, 255, 255, 0.06);      /* Hover: 6% white overlay on glass */
    --sidebar-border: var(--separator-opaque);
    --sidebar-ring: oklch(0.60 0.11 162);

    /* Chat UI colors - dark variant */
    --chat-input-outer: oklch(0.23 0 0);             /* Clear separation from background */
    --chat-input-border: var(--separator-opaque);
    --chat-input-inner: oklch(0.29 0 0);             /* Elevated, brighter than outer */
    --chat-button-selected: oklch(0.33 0 0);         /* Clear selected state */
    --chat-button-default: oklch(0.27 0 0);          /* Subtle, matches inner surface */

    /* shadcn sidebar compat (HSL) */
    --sidebar-background: 0 0% 12%;                  /* Dark sidebar */

    /* Status Bar colors - dark variant */
    --statusbar-bg: oklch(0.18 0 0);                 /* #2A2A2A - Lighter */
    --statusbar-border: var(--separator-opaque);
    --statusbar-label: rgba(255, 255, 255, 0.4);     /* 40% - More subtle label */
    --statusbar-value: rgba(255, 255, 255, 0.3);     /* 30% - More subtle value */
    --statusbar-progress-bg: rgba(255, 255, 255, 0.04); /* Ultra subtle track */

    /* StatusBar progress colors - aliased to semantic colors for consistency */
    --statusbar-progress-green: var(--success);      /* Green progress → success color */
    --statusbar-progress-yellow: var(--warning);     /* Yellow progress → warning color */
    --statusbar-progress-orange: var(--warning);     /* Orange progress → warning color */
    --statusbar-progress-red: var(--destructive);    /* Red progress → destructive color */

    /* Git status colors - Git-specific states with semantic color relationships (brightened for dark mode) */
    --status-merged: oklch(0.65 0.28 290);           /* Purple (unique) - PR merged */
    --status-working: oklch(0.72 0.20 60);           /* Yellow-orange (≈ warning) - changes in working tree */
    --status-synced: oklch(0.65 0.25 150);           /* Green (≈ success) - in sync with remote */

    /* ===== GLASS/OVERLAY EFFECTS (DARK) ===== */
    /* Glass hover - inverted for dark mode */
    --glass-hover: rgba(255, 255, 255, 0.06);       /* 호버 오버레이 (6% white) */

    /* Additional semantic names - same mappings */
    --text-muted: var(--label-tertiary);            /* 흐린 텍스트 (30% opacity in dark) */
    --bg-card: var(--background-secondary);         /* 카드 배경 */
    --bg-card-elevated: var(--background-tertiary); /* 더 높은 카드 배경 */
    --bg-section: var(--background-primary);        /* 섹션 배경 */

    /* Overlay system - inverted for dark mode */
    --overlay-thin: rgba(255, 255, 255, 0.02);     /* 매우 약한 오버레이 (2%) - subtle backgrounds */
    --overlay-light: rgba(255, 255, 255, 0.04);    /* 가벼운 오버레이 (4%) - hover states */
    --overlay-medium: rgba(255, 255, 255, 0.08);   /* 중간 오버레이 (8%) - active/pressed states */
    --overlay-strong: rgba(255, 255, 255, 0.12);   /* 강한 오버레이 (12%) - emphasis */

    /* Modal/Dialog backdrop overlays - slightly stronger for dark mode */
    --overlay-backdrop: rgba(0, 0, 0, 0.6);        /* 60% - Standard modal backdrop (darker for dark mode) */
    --overlay-backdrop-light: rgba(0, 0, 0, 0.4);  /* 40% - Lighter backdrop */
    --overlay-backdrop-strong: rgba(0, 0, 0, 0.75); /* 75% - Stronger backdrop */

    /* Interactive state tokens - semantic aliases (auto-adjust with overlays) */
    --state-hover: var(--overlay-light);           /* Hover overlay (4%) */
    --state-active: var(--overlay-medium);         /* Active/pressed overlay (8%) */
    --state-focus-ring: var(--ring);               /* Focus ring color (blue) */
    --state-disabled-opacity: 0.5;                 /* Disabled state opacity */

    /* Border overlays - inverted for dark mode */
    --border-thin: rgba(255, 255, 255, 0.05);      /* 매우 약한 테두리 (5%) */
    --border-light: rgba(255, 255, 255, 0.10);     /* 가벼운 테두리 (10%) */
    --border-medium: rgba(255, 255, 255, 0.15);    /* 중간 테두리 (15%) */

    /* Circuit brand color - slightly brighter for dark mode */
    --circuit-green: oklch(0.60 0.11 162);         /* #2D916F brightened for dark mode */
    --circuit-error: var(--destructive);           /* 에러 색상 */
  }

  /* ===== CODE BLOCK SURFACES (APPLE HIG - MINIMAL DIFFERENTIATION) ===== */

  :root {
    /* Base code surface - 읽기 전용 코드 (CodeBlock) */
    --code-bg: var(--background-secondary);          /* #FFFFFF - Elevated card */
    --code-border: var(--separator-opaque);          /* rgba(0,0,0,0.1) - Clear divider */
    --code-header: var(--fill-quaternary);           /* Subtle header background */

    /* Command surface - 실행 가능한 명령어 (CommandBlock) */
    /* Light mode: 살짝 더 어두운 elevated surface로 구별 */
    --command-bg: var(--background-tertiary);        /* #F5F5F5 - Slightly darker */
    --command-border: var(--separator-opaque);
    --command-header: var(--fill-tertiary);          /* 조금 더 진한 header */
    --command-accent: var(--label-tertiary);         /* Subtle text accent */

    /* Diff surface - 변경사항 표시 (DiffBlock) */
    --diff-bg: var(--code-bg);                       /* 기본 코드와 동일 */
    --diff-border: var(--code-border);
    --diff-header: var(--code-header);
    --diff-addition: var(--success);                 /* Green for additions */
    --diff-deletion: var(--destructive);             /* Red for deletions */
  }

  .dark {
    /* Command surface - Dark mode에서는 더 밝은 elevated로 구별 */
    --command-bg: var(--background-elevated-tertiary); /* #424242 - More elevated */
    --command-header: var(--fill-secondary);           /* 더 밝은 header */
    --command-accent: var(--label-tertiary);           /* Subtle text accent */
  }

  /* ===== GREEN LIGHT MODE (SAGE) ===== */
  .green-light {
    /* Background Hierarchy - Apple HIG with sage tint */
    --background-primary: oklch(0.945 0.015 150);         /* Sage window background */
    --background-secondary: oklch(1 0 0);                 /* Pure white - Cards */
    --background-tertiary: oklch(0.965 0.012 150);        /* Light sage - Nested */

    /* Label Hierarchy - Apple System Colors */
    --label-primary: rgba(0, 0, 0, 0.85);
    --label-secondary: rgba(0, 0, 0, 0.50);
    --label-tertiary: rgba(0, 0, 0, 0.25);
    --label-quaternary: rgba(0, 0, 0, 0.10);

    /* Fill Hierarchy - Green-tinted fills */
    --fill-primary: rgba(100, 140, 115, 0.36);
    --fill-secondary: rgba(100, 140, 115, 0.32);
    --fill-tertiary: rgba(100, 140, 115, 0.24);
    --fill-quaternary: rgba(100, 140, 115, 0.18);

    /* Separators - Subtle green tint */
    --separator-opaque: rgba(100, 140, 115, 0.15);
    --separator-translucent: rgba(100, 140, 115, 0.08);

    /* Materials - Glassmorphism with sage green tint */
    --material-thin: rgba(238, 245, 240, 0.5);            /* Sage glass - subtle */
    --material-regular: rgba(238, 245, 240, 0.7);         /* Sage glass - standard */
    --material-thick: rgba(238, 245, 240, 0.85);          /* Sage glass - strong */
    --material-ultra-thick: rgba(238, 245, 240, 0.95);    /* Sage glass - maximum */

    /* Legacy tokens */
    --background: var(--background-primary);
    --foreground: var(--label-primary);
    --foreground-muted: var(--label-secondary);

    --card: var(--background-secondary);
    --card-foreground: var(--label-primary);

    --popover: var(--background-secondary);
    --popover-foreground: var(--label-primary);

    /* Brand colors - Green-themed */
    --primary: oklch(0.54 0.10 162);                      /* #2D916F - Teal green */
    --primary-foreground: oklch(1 0 0);

    --secondary: oklch(0.92 0.015 150);                   /* Light sage */
    --secondary-foreground: oklch(0.24 0 0);

    /* Muted/subtle colors - sage tint */
    --muted: oklch(0.84 0.02 150);                        /* Sage gray */
    --muted-foreground: oklch(0.30 0 0);

    --accent: oklch(0.92 0.02 142);                       /* Very light forest green */
    --accent-foreground: oklch(0.54 0.10 162);            /* #2D916F - Teal green */

    /* Semantic colors - same as light mode */
    --destructive: oklch(0.55 0.30 25);
    --destructive-foreground: oklch(1 0 0);

    --success: oklch(0.55 0.22 150);                      /* Green success */
    --success-foreground: oklch(1 0 0);

    --warning: oklch(0.65 0.22 80);
    --warning-foreground: oklch(0.2 0 0);

    --info: oklch(0.55 0.22 250);
    --info-foreground: oklch(1 0 0);

    /* UI elements */
    --border: var(--separator-opaque);
    --input: oklch(0.92 0.015 150);
    --ring: oklch(0.54 0.10 162);                         /* #2D916F - Teal green focus */

    /* Window glassmorphism */
    --window-glass: var(--material-regular);

    /* Sidebar colors - sage theme (Apple HIG hierarchy) */
    --sidebar: oklch(0.925 0.018 150);                    /* Sage sidebar (darker than window) */
    --sidebar-glass: var(--material-regular);
    --sidebar-foreground: rgba(0, 0, 0, 0.85);
    --sidebar-foreground-muted: rgba(0, 0, 0, 0.50);
    --sidebar-primary: oklch(0.54 0.10 162);              /* #2D916F - Teal green */
    --sidebar-primary-foreground: oklch(1 0 0);
    --sidebar-accent: rgba(100, 140, 115, 0.08);          /* Green-tinted accent */
    --sidebar-accent-foreground: rgba(0, 0, 0, 0.95);
    --sidebar-hover: rgba(100, 140, 115, 0.06);           /* Green-tinted hover */
    --sidebar-border: var(--separator-opaque);
    --sidebar-ring: oklch(0.54 0.10 162);

    /* Chat UI colors - sage theme */
    --chat-input-outer: oklch(0.945 0.015 150);
    --chat-input-border: var(--separator-opaque);
    --chat-input-inner: oklch(0.985 0.01 150);
    --chat-button-selected: oklch(0.88 0.02 150);
    --chat-button-default: oklch(0.96 0.01 150);

    /* shadcn sidebar compat (HSL) */
    --sidebar-background: 150 15% 91%;

    /* Status Bar colors - sage theme */
    --statusbar-bg: oklch(0.97 0.01 150);
    --statusbar-border: var(--separator-opaque);
    --statusbar-label: rgba(0, 0, 0, 0.5);
    --statusbar-value: rgba(0, 0, 0, 0.4);
    --statusbar-progress-bg: rgba(100, 140, 115, 0.08);

    /* StatusBar progress colors */
    --statusbar-progress-green: var(--success);
    --statusbar-progress-yellow: var(--warning);
    --statusbar-progress-orange: var(--warning);
    --statusbar-progress-red: var(--destructive);

    /* Git status colors - same as light mode */
    --status-merged: oklch(0.55 0.25 290);
    --status-working: oklch(0.62 0.18 60);
    --status-synced: oklch(0.55 0.22 150);

    /* Glass/Overlay effects */
    --glass-bg: var(--material-regular);
    --glass-border: var(--separator-opaque);
    --glass-hover: rgba(100, 140, 115, 0.06);

    /* Additional semantic names */
    --text-muted: var(--label-tertiary);
    --bg-card: var(--background-secondary);
    --bg-card-elevated: var(--background-tertiary);
    --bg-section: var(--background-primary);

    /* Overlay system - green-tinted */
    --overlay-thin: rgba(100, 140, 115, 0.03);
    --overlay-light: rgba(100, 140, 115, 0.06);
    --overlay-medium: rgba(100, 140, 115, 0.10);
    --overlay-strong: rgba(100, 140, 115, 0.15);

    /* Modal/Dialog backdrop overlays */
    --overlay-backdrop: rgba(0, 0, 0, 0.5);
    --overlay-backdrop-light: rgba(0, 0, 0, 0.3);
    --overlay-backdrop-strong: rgba(0, 0, 0, 0.7);

    /* Interactive state tokens */
    --state-hover: var(--overlay-light);
    --state-active: var(--overlay-medium);
    --state-focus-ring: var(--ring);
    --state-disabled-opacity: 0.5;

    /* Border overlays - green-tinted */
    --border-thin: rgba(100, 140, 115, 0.08);
    --border-light: rgba(100, 140, 115, 0.12);
    --border-medium: rgba(100, 140, 115, 0.18);

    /* Circuit brand color */
    --circuit-green: oklch(0.54 0.10 162);                /* #2D916F - Teal green */
    --circuit-error: var(--destructive);

    /* Code block surfaces */
    --code-bg: var(--background-secondary);
    --code-border: var(--separator-opaque);
    --code-header: var(--fill-quaternary);

    --command-bg: var(--background-tertiary);
    --command-border: var(--separator-opaque);
    --command-header: var(--fill-tertiary);
    --command-accent: var(--label-tertiary);

    --diff-bg: var(--code-bg);
    --diff-border: var(--code-border);
    --diff-header: var(--code-header);
    --diff-addition: var(--success);
    --diff-deletion: var(--destructive);
  }

  /* ===== GREEN DARK MODE (FOREST) ===== */
  .green-dark {
    /* Background Hierarchy - Forest green dark backgrounds */
    --background-base-primary: oklch(0.15 0.03 150);      /* Deep forest */
    --background-base-secondary: oklch(0.18 0.025 150);   /* Forest layer 2 */
    --background-base-tertiary: oklch(0.20 0.02 150);     /* Forest layer 3 */

    --background-elevated-primary: oklch(0.22 0.025 150); /* Elevated forest 1 */
    --background-elevated-secondary: oklch(0.25 0.02 150); /* Elevated forest 2 */
    --background-elevated-tertiary: oklch(0.28 0.018 150); /* Elevated forest 3 */

    --background-primary: var(--background-base-secondary);
    --background-secondary: var(--background-elevated-primary);
    --background-tertiary: var(--background-elevated-secondary);

    /* Label Hierarchy - Same as dark mode */
    --label-primary: rgba(255, 255, 255, 1.0);
    --label-secondary: rgba(255, 255, 255, 0.9);
    --label-tertiary: rgba(255, 255, 255, 0.40);
    --label-quaternary: rgba(255, 255, 255, 0.18);

    /* Fill Hierarchy - Green-tinted fills */
    --fill-primary: rgba(120, 160, 135, 0.36);
    --fill-secondary: rgba(120, 160, 135, 0.32);
    --fill-tertiary: rgba(120, 160, 135, 0.24);
    --fill-quaternary: rgba(120, 160, 135, 0.18);

    /* Separators - Green-tinted */
    --separator-opaque: rgba(120, 180, 140, 0.15);
    --separator-translucent: rgba(120, 180, 140, 0.08);

    /* Materials - Glassmorphism with forest green tint */
    --material-thin: rgba(28, 38, 30, 0.7);               /* Forest glass - subtle */
    --material-regular: rgba(28, 38, 30, 0.85);           /* Forest glass - standard */
    --material-thick: rgba(28, 38, 30, 0.92);             /* Forest glass - strong */
    --material-ultra-thick: rgba(28, 38, 30, 0.97);       /* Forest glass - maximum */

    /* Legacy tokens */
    --background: var(--background-primary);
    --foreground: var(--label-primary);
    --foreground-muted: var(--label-secondary);

    --card: var(--background-secondary);
    --card-foreground: var(--label-primary);

    --popover: var(--background-elevated-primary);
    --popover-foreground: var(--label-primary);

    /* Brand colors - Green-themed (brightened for dark) */
    --primary: oklch(0.60 0.11 162);                      /* #2D916F brightened for dark mode */
    --primary-foreground: oklch(0.12 0.02 145);           /* Dark forest text */

    --secondary: var(--background-elevated-tertiary);
    --secondary-foreground: var(--label-primary);

    /* Muted/subtle colors - forest tint */
    --muted: var(--background-elevated-secondary);
    --muted-foreground: rgba(255, 255, 255, 0.5);

    --accent: oklch(0.30 0.04 145);                       /* Dark forest tint */
    --accent-foreground: oklch(0.60 0.11 162);            /* #2D916F brightened for dark mode */

    /* Semantic colors - brightened for dark mode */
    --destructive: oklch(0.60 0.33 25);
    --destructive-foreground: oklch(0.98 0 0);

    --success: oklch(0.62 0.25 150);                      /* Bright green success */
    --success-foreground: oklch(0.98 0 0);

    --warning: oklch(0.70 0.25 80);
    --warning-foreground: oklch(0.15 0 0);

    --info: oklch(0.60 0.25 250);
    --info-foreground: oklch(0.98 0 0);

    /* UI elements */
    --border: var(--separator-opaque);
    --input: var(--background-elevated-secondary);
    --ring: oklch(0.60 0.11 162);                         /* #2D916F brightened ring */

    /* Window glassmorphism */
    --window-glass: var(--material-regular);

    /* Sidebar colors - forest theme */
    --sidebar: var(--background-base-tertiary);
    --sidebar-glass: var(--material-regular);
    --sidebar-foreground: rgba(255, 255, 255, 0.85);
    --sidebar-foreground-muted: rgba(255, 255, 255, 0.55);
    --sidebar-primary: oklch(0.60 0.11 162);              /* #2D916F brightened for dark mode */
    --sidebar-primary-foreground: oklch(0.12 0.02 145);
    --sidebar-accent: rgba(120, 180, 140, 0.10);          /* Green-tinted accent */
    --sidebar-accent-foreground: rgba(255, 255, 255, 0.95);
    --sidebar-hover: rgba(120, 180, 140, 0.08);           /* Green-tinted hover */
    --sidebar-border: var(--separator-opaque);
    --sidebar-ring: oklch(0.60 0.11 162);

    /* Chat UI colors - forest theme */
    --chat-input-outer: oklch(0.23 0.025 150);
    --chat-input-border: var(--separator-opaque);
    --chat-input-inner: oklch(0.29 0.02 150);
    --chat-button-selected: oklch(0.33 0.02 150);
    --chat-button-default: oklch(0.27 0.02 150);

    /* shadcn sidebar compat (HSL) */
    --sidebar-background: 150 10% 12%;

    /* Status Bar colors - forest theme */
    --statusbar-bg: oklch(0.18 0.025 150);
    --statusbar-border: var(--separator-opaque);
    --statusbar-label: rgba(255, 255, 255, 0.4);
    --statusbar-value: rgba(255, 255, 255, 0.3);
    --statusbar-progress-bg: rgba(120, 180, 140, 0.08);

    /* StatusBar progress colors */
    --statusbar-progress-green: var(--success);
    --statusbar-progress-yellow: var(--warning);
    --statusbar-progress-orange: var(--warning);
    --statusbar-progress-red: var(--destructive);

    /* Git status colors - brightened for dark mode */
    --status-merged: oklch(0.65 0.28 290);
    --status-working: oklch(0.72 0.20 60);
    --status-synced: oklch(0.65 0.25 150);

    /* Glass/Overlay effects */
    --glass-bg: var(--material-regular);
    --glass-border: var(--separator-opaque);
    --glass-hover: rgba(120, 180, 140, 0.08);

    /* Additional semantic names */
    --text-muted: var(--label-tertiary);
    --bg-card: var(--background-secondary);
    --bg-card-elevated: var(--background-tertiary);
    --bg-section: var(--background-primary);

    /* Overlay system - green-tinted */
    --overlay-thin: rgba(120, 180, 140, 0.04);
    --overlay-light: rgba(120, 180, 140, 0.06);
    --overlay-medium: rgba(120, 180, 140, 0.10);
    --overlay-strong: rgba(120, 180, 140, 0.15);

    /* Modal/Dialog backdrop overlays */
    --overlay-backdrop: rgba(0, 0, 0, 0.6);
    --overlay-backdrop-light: rgba(0, 0, 0, 0.4);
    --overlay-backdrop-strong: rgba(0, 0, 0, 0.75);

    /* Interactive state tokens */
    --state-hover: var(--overlay-light);
    --state-active: var(--overlay-medium);
    --state-focus-ring: var(--ring);
    --state-disabled-opacity: 0.5;

    /* Border overlays - green-tinted */
    --border-thin: rgba(120, 180, 140, 0.08);
    --border-light: rgba(120, 180, 140, 0.12);
    --border-medium: rgba(120, 180, 140, 0.18);

    /* Circuit brand color - brightened */
    --circuit-green: oklch(0.60 0.11 162);                /* #2D916F brightened for dark mode */
    --circuit-error: var(--destructive);

    /* Code block surfaces */
    --code-bg: var(--background-secondary);
    --code-border: var(--separator-opaque);
    --code-header: var(--fill-quaternary);

    --command-bg: var(--background-elevated-tertiary);
    --command-border: var(--separator-opaque);
    --command-header: var(--fill-secondary);
    --command-accent: var(--label-tertiary);

    --diff-bg: var(--code-bg);
    --diff-border: var(--code-border);
    --diff-header: var(--code-header);
    --diff-addition: var(--success);
    --diff-deletion: var(--destructive);
  }

  /* ===== WARM LIGHT MODE (AMBER - Arc/Dia Inspired) ===== */
  .warm-light {
    /* Background Hierarchy - Apple HIG with warm tint */
    --background-primary: oklch(0.945 0.010 70);          /* Warm window background */
    --background-secondary: oklch(1 0 0);                 /* Pure white cards */
    --background-tertiary: oklch(0.965 0.008 70);         /* Subtle warm nested */

    /* Label Hierarchy - Apple System Colors with warm base */
    --label-primary: rgba(42, 40, 38, 0.90);              /* 90% warm charcoal (slightly lighter than pure black) */
    --label-secondary: rgba(42, 40, 38, 0.55);            /* 55% warm gray */
    --label-tertiary: rgba(42, 40, 38, 0.28);             /* 28% warm gray */
    --label-quaternary: rgba(102, 96, 90, 0.12);          /* 12% light gray */

    /* Fill Hierarchy - Muted terracotta fills */
    --fill-primary: rgba(185, 117, 87, 0.12);             /* Burnt sienna tint */
    --fill-secondary: rgba(185, 117, 87, 0.10);
    --fill-tertiary: rgba(185, 117, 87, 0.08);
    --fill-quaternary: rgba(185, 117, 87, 0.05);

    /* Separators - Subtle warm tint */
    --separator-opaque: rgba(185, 117, 87, 0.10);
    --separator-translucent: rgba(185, 117, 87, 0.05);

    /* Materials - Glassmorphism with refined warm tint */
    --material-thin: rgba(250, 248, 246, 0.5);            /* Neutral glass - subtle */
    --material-regular: rgba(250, 248, 246, 0.7);         /* Neutral glass - standard */
    --material-thick: rgba(250, 248, 246, 0.85);          /* Neutral glass - strong */
    --material-ultra-thick: rgba(250, 248, 246, 0.95);    /* Neutral glass - maximum */

    /* Legacy tokens */
    --background: var(--background-primary);
    --foreground: var(--label-primary);
    --foreground-muted: var(--label-secondary);

    --card: var(--background-secondary);
    --card-foreground: var(--label-primary);

    --popover: var(--background-secondary);
    --popover-foreground: var(--label-primary);

    /* Brand colors - Refined olive green */
    --primary: oklch(0.54 0.10 162);                      /* #2D916F - Teal green */
    --primary-foreground: oklch(0.98 0 0);

    --secondary: oklch(0.94 0.006 70);                    /* Refined warm gray */
    --secondary-foreground: oklch(0.26 0 0);

    /* Muted/subtle colors - refined neutral */
    --muted: oklch(0.92 0.008 70);                        /* Subtle warm gray */
    --muted-foreground: oklch(0.40 0 0);

    --accent: oklch(0.94 0.010 130);                      /* Very light olive tint */
    --accent-foreground: oklch(0.54 0.10 162);            /* #2D916F - Teal green */

    /* Semantic colors - Refined muted palette */
    --destructive: oklch(0.52 0.15 25);                   /* Muted red-brown */
    --destructive-foreground: oklch(0.98 0 0);

    --success: oklch(0.58 0.12 145);                      /* Muted olive green */
    --success-foreground: oklch(0.98 0 0);

    --warning: oklch(0.70 0.11 75);                       /* Muted amber */
    --warning-foreground: oklch(0.22 0 0);

    --info: oklch(0.55 0.10 240);                         /* Muted slate blue */
    --info-foreground: oklch(0.98 0 0);

    /* UI elements */
    --border: var(--separator-opaque);
    --input: oklch(0.94 0.006 70);
    --ring: oklch(0.54 0.10 162);                         /* #2D916F - Teal green focus ring */

    /* Window glassmorphism */
    --window-glass: var(--material-regular);

    /* Sidebar colors - refined warm theme (Apple HIG hierarchy) */
    --sidebar: oklch(0.925 0.012 70);                     /* Warm sidebar (darker than window) */
    --sidebar-glass: var(--material-regular);
    --sidebar-foreground: rgba(42, 40, 38, 0.90);
    --sidebar-foreground-muted: rgba(42, 40, 38, 0.55);
    --sidebar-primary: oklch(0.54 0.10 162);              /* #2D916F - Teal green */
    --sidebar-primary-foreground: oklch(0.98 0 0);
    --sidebar-accent: rgba(100, 130, 90, 0.10);           /* Olive-tinted accent */
    --sidebar-accent-foreground: rgba(42, 40, 38, 0.95);
    --sidebar-hover: rgba(100, 130, 90, 0.08);            /* Olive-tinted hover */
    --sidebar-border: var(--separator-opaque);
    --sidebar-ring: oklch(0.54 0.10 162);

    /* Chat UI colors - refined warm theme */
    --chat-input-outer: oklch(0.950 0.008 70);
    --chat-input-border: var(--separator-opaque);
    --chat-input-inner: oklch(0.990 0.004 70);
    --chat-button-selected: oklch(0.92 0.010 70);
    --chat-button-default: oklch(0.97 0.006 70);

    /* shadcn sidebar compat (HSL) */
    --sidebar-background: 85 20% 93%;

    /* Status Bar colors - refined warm theme */
    --statusbar-bg: oklch(0.975 0.006 70);
    --statusbar-border: var(--separator-opaque);
    --statusbar-label: rgba(42, 40, 38, 0.5);
    --statusbar-value: rgba(42, 40, 38, 0.4);
    --statusbar-progress-bg: rgba(185, 117, 87, 0.08);

    /* StatusBar progress colors */
    --statusbar-progress-green: var(--success);
    --statusbar-progress-yellow: var(--warning);
    --statusbar-progress-orange: var(--warning);
    --statusbar-progress-red: var(--destructive);

    /* Git status colors - same as light mode */
    --status-merged: oklch(0.55 0.25 290);
    --status-working: oklch(0.62 0.18 60);
    --status-synced: oklch(0.55 0.22 150);

    /* Glass/Overlay effects */
    --glass-bg: var(--material-regular);
    --glass-border: var(--separator-opaque);
    --glass-hover: rgba(185, 117, 87, 0.08);

    /* Additional semantic names */
    --text-muted: var(--label-tertiary);
    --bg-card: var(--background-secondary);
    --bg-card-elevated: var(--background-tertiary);
    --bg-section: var(--background-primary);

    /* Overlay system - refined warm-tinted */
    --overlay-thin: rgba(185, 117, 87, 0.04);
    --overlay-light: rgba(185, 117, 87, 0.08);
    --overlay-medium: rgba(185, 117, 87, 0.12);
    --overlay-strong: rgba(185, 117, 87, 0.18);

    /* Modal/Dialog backdrop overlays */
    --overlay-backdrop: rgba(0, 0, 0, 0.5);
    --overlay-backdrop-light: rgba(0, 0, 0, 0.3);
    --overlay-backdrop-strong: rgba(0, 0, 0, 0.7);

    /* Interactive state tokens */
    --state-hover: var(--overlay-light);
    --state-active: var(--overlay-medium);
    --state-focus-ring: var(--ring);
    --state-disabled-opacity: 0.5;

    /* Border overlays - refined warm-tinted */
    --border-thin: rgba(185, 117, 87, 0.08);
    --border-light: rgba(185, 117, 87, 0.12);
    --border-medium: rgba(185, 117, 87, 0.18);

    /* Circuit brand color - refined terracotta */
    --circuit-green: oklch(0.54 0.10 162);                /* #2D916F - Teal green */
    --circuit-error: var(--destructive);

    /* Code block surfaces */
    --code-bg: var(--background-secondary);
    --code-border: var(--separator-opaque);
    --code-header: var(--fill-quaternary);

    --command-bg: var(--background-tertiary);
    --command-border: var(--separator-opaque);
    --command-header: var(--fill-tertiary);
    --command-accent: var(--label-tertiary);

    --diff-bg: var(--code-bg);
    --diff-border: var(--code-border);
    --diff-header: var(--code-header);
    --diff-addition: var(--success);
    --diff-deletion: var(--destructive);
  }

  /* ===== WARM DARK MODE (EMBER - Arc/Dia Inspired) ===== */
  .warm-dark {
    /* Background Hierarchy - Sophisticated warm charcoal (Arc style) */
    --background-base-primary: oklch(0.20 0.010 40);      /* Deeper warm charcoal */
    --background-base-secondary: oklch(0.24 0.008 40);    /* #2C2A28 Warm charcoal (main) */
    --background-base-tertiary: oklch(0.27 0.008 40);     /* #26241F Sidebar warm */

    --background-elevated-primary: oklch(0.30 0.008 40);  /* #3A3835 Elevated cards */
    --background-elevated-secondary: oklch(0.35 0.007 40); /* Elevated surface 2 */
    --background-elevated-tertiary: oklch(0.40 0.006 40);  /* Elevated surface 3 */

    --background-primary: var(--background-base-secondary);
    --background-secondary: var(--background-elevated-primary);
    --background-tertiary: var(--background-elevated-secondary);

    /* Label Hierarchy - Refined warm whites */
    --label-primary: rgba(250, 248, 246, 1.0);            /* Soft white - 100% */
    --label-secondary: rgba(235, 230, 225, 0.90);         /* Warm off-white - 90% */
    --label-tertiary: rgba(200, 192, 185, 0.55);          /* Muted warm gray - 55% */
    --label-quaternary: rgba(160, 155, 150, 0.30);        /* Very muted - 30% */

    /* Fill Hierarchy - Soft coral fills */
    --fill-primary: rgba(224, 155, 124, 0.15);            /* Soft coral tint */
    --fill-secondary: rgba(224, 155, 124, 0.12);
    --fill-tertiary: rgba(224, 155, 124, 0.10);
    --fill-quaternary: rgba(224, 155, 124, 0.08);

    /* Separators - Refined warm tint */
    --separator-opaque: rgba(224, 155, 124, 0.12);
    --separator-translucent: rgba(224, 155, 124, 0.06);

    /* Materials - Glassmorphism with refined dark warm tint */
    --material-thin: rgba(44, 42, 40, 0.7);               /* Refined dark glass - subtle */
    --material-regular: rgba(44, 42, 40, 0.85);           /* Refined dark glass - standard */
    --material-thick: rgba(44, 42, 40, 0.92);             /* Refined dark glass - strong */
    --material-ultra-thick: rgba(44, 42, 40, 0.97);       /* Refined dark glass - maximum */

    /* Legacy tokens */
    --background: var(--background-primary);
    --foreground: var(--label-primary);
    --foreground-muted: var(--label-secondary);

    --card: var(--background-secondary);
    --card-foreground: var(--label-primary);

    --popover: var(--background-elevated-primary);
    --popover-foreground: var(--label-primary);

    /* Brand colors - Bright olive green */
    --primary: oklch(0.60 0.11 162);                      /* #2D916F brightened for dark mode */
    --primary-foreground: oklch(0.20 0.008 40);           /* Dark warm text */

    --secondary: var(--background-elevated-tertiary);
    --secondary-foreground: var(--label-primary);

    /* Muted/subtle colors */
    --muted: var(--background-elevated-secondary);
    --muted-foreground: rgba(200, 192, 185, 0.60);        /* 60% warm gray */

    --accent: oklch(0.32 0.010 132);                      /* Dark olive tint */
    --accent-foreground: oklch(0.60 0.11 162);            /* #2D916F brightened for dark mode */

    /* Semantic colors - Refined soft palette */
    --destructive: oklch(0.62 0.16 28);                   /* Soft red-coral */
    --destructive-foreground: oklch(0.98 0 0);

    --success: oklch(0.68 0.13 142);                      /* Soft sage green */
    --success-foreground: oklch(0.20 0.008 40);

    --warning: oklch(0.75 0.13 85);                       /* Soft amber */
    --warning-foreground: oklch(0.20 0.008 40);

    --info: oklch(0.65 0.12 230);                         /* Soft slate blue */
    --info-foreground: oklch(0.98 0 0);

    /* UI elements */
    --border: var(--separator-opaque);
    --input: var(--background-elevated-secondary);
    --ring: oklch(0.60 0.11 162);                         /* #2D916F brightened ring */

    /* Window glassmorphism */
    --window-glass: var(--material-regular);

    /* Sidebar colors - refined warm dark theme */
    --sidebar: var(--background-base-tertiary);
    --sidebar-glass: var(--material-regular);
    --sidebar-foreground: rgba(235, 230, 225, 0.85);      /* Warm white 85% */
    --sidebar-foreground-muted: rgba(200, 192, 185, 0.60); /* Warm gray 60% */
    --sidebar-primary: oklch(0.60 0.11 162);              /* #2D916F brightened for dark mode */
    --sidebar-primary-foreground: oklch(0.20 0.008 40);
    --sidebar-accent: rgba(140, 160, 120, 0.12);          /* Olive-tinted accent */
    --sidebar-accent-foreground: rgba(250, 248, 246, 0.95);
    --sidebar-hover: rgba(140, 160, 120, 0.10);           /* Olive-tinted hover */
    --sidebar-border: var(--separator-opaque);
    --sidebar-ring: oklch(0.60 0.11 162);

    /* Chat UI colors - refined warm dark theme */
    --chat-input-outer: oklch(0.28 0.008 40);
    --chat-input-border: var(--separator-opaque);
    --chat-input-inner: oklch(0.33 0.007 40);
    --chat-button-selected: oklch(0.38 0.008 40);
    --chat-button-default: oklch(0.32 0.007 40);

    /* shadcn sidebar compat (HSL) */
    --sidebar-background: 40 8% 15%;

    /* Status Bar colors - refined warm dark theme */
    --statusbar-bg: oklch(0.22 0.008 40);
    --statusbar-border: var(--separator-opaque);
    --statusbar-label: rgba(235, 230, 225, 0.4);
    --statusbar-value: rgba(235, 230, 225, 0.3);
    --statusbar-progress-bg: rgba(224, 155, 124, 0.08);

    /* StatusBar progress colors */
    --statusbar-progress-green: var(--success);
    --statusbar-progress-yellow: var(--warning);
    --statusbar-progress-orange: var(--warning);
    --statusbar-progress-red: var(--destructive);

    /* Git status colors - brightened for dark mode */
    --status-merged: oklch(0.65 0.28 290);
    --status-working: oklch(0.72 0.20 60);
    --status-synced: oklch(0.65 0.25 150);

    /* Glass/Overlay effects */
    --glass-bg: var(--material-regular);
    --glass-border: var(--separator-opaque);
    --glass-hover: rgba(224, 155, 124, 0.10);

    /* Additional semantic names */
    --text-muted: var(--label-tertiary);
    --bg-card: var(--background-secondary);
    --bg-card-elevated: var(--background-tertiary);
    --bg-section: var(--background-primary);

    /* Overlay system - refined warm-tinted */
    --overlay-thin: rgba(224, 155, 124, 0.04);
    --overlay-light: rgba(224, 155, 124, 0.08);
    --overlay-medium: rgba(224, 155, 124, 0.12);
    --overlay-strong: rgba(224, 155, 124, 0.18);

    /* Modal/Dialog backdrop overlays */
    --overlay-backdrop: rgba(0, 0, 0, 0.6);
    --overlay-backdrop-light: rgba(0, 0, 0, 0.4);
    --overlay-backdrop-strong: rgba(0, 0, 0, 0.75);

    /* Interactive state tokens */
    --state-hover: var(--overlay-light);
    --state-active: var(--overlay-medium);
    --state-focus-ring: var(--ring);
    --state-disabled-opacity: 0.5;

    /* Border overlays - refined warm-tinted */
    --border-thin: rgba(224, 155, 124, 0.08);
    --border-light: rgba(224, 155, 124, 0.12);
    --border-medium: rgba(224, 155, 124, 0.18);

    /* Circuit brand color - bright olive green */
    --circuit-green: oklch(0.60 0.11 162);               /* #2D916F brightened for dark mode */
    --circuit-error: var(--destructive);

    /* Code block surfaces */
    --code-bg: var(--background-secondary);
    --code-border: var(--separator-opaque);
    --code-header: var(--fill-quaternary);

    --command-bg: var(--background-elevated-tertiary);
    --command-border: var(--separator-opaque);
    --command-header: var(--fill-secondary);
    --command-accent: var(--label-tertiary);

    --diff-bg: var(--code-bg);
    --diff-border: var(--code-border);
    --diff-header: var(--code-header);
    --diff-addition: var(--success);
    --diff-deletion: var(--destructive);
  }

  /* ===== STRAW LIGHT MODE (WHEAT INSPIRED) ===== */
  .straw-light {
    /* Background Hierarchy - Apple HIG with wheat tint */
    --background-primary: oklch(0.945 0.035 80);          /* Warm wheat window */
    --background-secondary: oklch(0.99 0.015 80);         /* Very light wheat - Cards */
    --background-tertiary: oklch(0.965 0.025 80);         /* Light wheat - Nested */

    /* Label Hierarchy - Apple System Colors (using dark base) */
    --label-primary: rgba(38, 38, 37, 0.90);              /* 90% Nero for readability */
    --label-secondary: rgba(38, 38, 37, 0.55);            /* 55% */
    --label-tertiary: rgba(75, 74, 72, 0.35);             /* 35% */
    --label-quaternary: rgba(119, 118, 116, 0.15);        /* 15% */

    /* Fill Hierarchy - Warm wheat fills */
    --fill-primary: rgba(239, 211, 149, 0.36);
    --fill-secondary: rgba(239, 211, 149, 0.32);
    --fill-tertiary: rgba(239, 211, 149, 0.24);
    --fill-quaternary: rgba(239, 211, 149, 0.18);

    /* Separators - Warm wheat tint */
    --separator-opaque: rgba(164, 164, 164, 0.25);
    --separator-translucent: rgba(164, 164, 164, 0.12);

    /* Materials - Glassmorphism with wheat tint */
    --material-thin: rgba(247, 238, 215, 0.5);
    --material-regular: rgba(247, 238, 215, 0.7);
    --material-thick: rgba(247, 238, 215, 0.85);
    --material-ultra-thick: rgba(247, 238, 215, 0.95);

    /* Legacy tokens */
    --background: var(--background-primary);
    --foreground: var(--label-primary);
    --foreground-muted: var(--label-secondary);

    --card: var(--background-secondary);
    --card-foreground: var(--label-primary);

    --popover: var(--background-secondary);
    --popover-foreground: var(--label-primary);

    /* Brand colors - Yellowish-green themed */
    --primary: oklch(0.54 0.10 162);                      /* #2D916F - Teal green */
    --primary-foreground: oklch(0.17 0.005 30);

    --secondary: oklch(0.91 0.05 80);
    --secondary-foreground: oklch(0.17 0.005 30);

    /* Muted/subtle colors - wheat gray tint */
    --muted: oklch(0.82 0.06 80);
    --muted-foreground: oklch(0.32 0.008 40);

    --accent: oklch(0.89 0.07 125);
    --accent-foreground: oklch(0.54 0.10 162);

    /* Semantic colors */
    --destructive: oklch(0.55 0.30 25);
    --destructive-foreground: oklch(1 0 0);

    --success: oklch(0.55 0.22 150);
    --success-foreground: oklch(1 0 0);

    --warning: oklch(0.65 0.22 80);
    --warning-foreground: oklch(0.2 0 0);

    --info: oklch(0.55 0.22 250);
    --info-foreground: oklch(1 0 0);

    /* UI elements */
    --border: var(--separator-opaque);
    --input: oklch(0.91 0.05 80);
    --ring: oklch(0.54 0.10 162);

    /* Window glassmorphism */
    --window-glass: var(--material-regular);

    /* Sidebar colors - straw theme (Apple HIG hierarchy) */
    --sidebar: oklch(0.925 0.040 80);                     /* Straw sidebar (darker than window) */
    --sidebar-glass: var(--material-regular);
    --sidebar-foreground: rgba(38, 38, 37, 0.90);
    --sidebar-foreground-muted: rgba(38, 38, 37, 0.55);
    --sidebar-primary: oklch(0.54 0.10 162);
    --sidebar-primary-foreground: oklch(0.17 0.005 30);
    --sidebar-accent: rgba(239, 211, 149, 0.25);
    --sidebar-accent-foreground: oklch(0.17 0.005 30);
    --sidebar-hover: rgba(239, 211, 149, 0.20);
    --sidebar-border: var(--separator-opaque);
    --sidebar-ring: oklch(0.54 0.10 162);

    /* Chat UI colors - straw theme */
    --chat-input-outer: oklch(0.85 0.08 80);
    --chat-input-border: var(--separator-opaque);
    --chat-input-inner: oklch(0.94 0.04 80);
    --chat-button-selected: oklch(0.80 0.10 78);
    --chat-button-default: oklch(0.90 0.06 80);

    /* shadcn sidebar compat (HSL) */
    --sidebar-background: 75 60% 85%;

    /* Status Bar colors - straw theme */
    --statusbar-bg: oklch(0.92 0.05 80);
    --statusbar-border: var(--separator-opaque);
    --statusbar-label: oklch(0.32 0.008 40);
    --statusbar-value: oklch(0.50 0.005 40);
    --statusbar-progress-bg: rgba(239, 211, 149, 0.20);

    /* StatusBar progress colors */
    --statusbar-progress-green: var(--success);
    --statusbar-progress-yellow: var(--warning);
    --statusbar-progress-orange: var(--warning);
    --statusbar-progress-red: var(--destructive);

    /* Git status colors */
    --status-merged: oklch(0.55 0.25 290);
    --status-working: oklch(0.62 0.18 60);
    --status-synced: oklch(0.55 0.22 150);

    /* Glass/Overlay effects */
    --glass-bg: var(--material-regular);
    --glass-border: var(--separator-opaque);
    --glass-hover: rgba(239, 211, 149, 0.20);

    /* Additional semantic names */
    --text-muted: var(--label-tertiary);
    --bg-card: var(--background-secondary);
    --bg-card-elevated: var(--background-tertiary);
    --bg-section: var(--background-primary);

    /* Overlay system - wheat-tinted */
    --overlay-thin: rgba(239, 211, 149, 0.10);
    --overlay-light: rgba(239, 211, 149, 0.15);
    --overlay-medium: rgba(239, 211, 149, 0.22);
    --overlay-strong: rgba(239, 211, 149, 0.30);

    /* Modal/Dialog backdrop overlays */
    --overlay-backdrop: rgba(0, 0, 0, 0.5);
    --overlay-backdrop-light: rgba(0, 0, 0, 0.3);
    --overlay-backdrop-strong: rgba(0, 0, 0, 0.7);

    /* Interactive state tokens */
    --state-hover: var(--overlay-light);
    --state-active: var(--overlay-medium);
    --state-focus-ring: var(--ring);
    --state-disabled-opacity: 0.5;

    /* Border overlays - wheat-tinted */
    --border-thin: rgba(164, 164, 164, 0.15);
    --border-light: rgba(164, 164, 164, 0.25);
    --border-medium: rgba(164, 164, 164, 0.35);

    /* Circuit brand color */
    --circuit-green: oklch(0.54 0.10 162);                /* #2D916F - Teal green */
    --circuit-error: var(--destructive);

    /* Code block surfaces */
    --code-bg: var(--background-secondary);
    --code-border: var(--separator-opaque);
    --code-header: var(--fill-quaternary);

    --command-bg: var(--background-tertiary);
    --command-border: var(--separator-opaque);
    --command-header: var(--fill-tertiary);
    --command-accent: var(--label-tertiary);

    --diff-bg: var(--code-bg);
    --diff-border: var(--code-border);
    --diff-header: var(--code-header);
    --diff-addition: var(--success);
    --diff-deletion: var(--destructive);
  }

  /* ===== SLATE DARK MODE (CHROME INSPIRED) ===== */
  .slate-dark {
    /* Background Hierarchy - Cool slate tones */
    --background-base-primary: oklch(0.11 0 0);           /* #0B1212 Ruined Smores - Deepest */
    --background-base-secondary: oklch(0.15 0.008 180);   /* #1B2220 Shadow Warrior - Main */
    --background-base-tertiary: oklch(0.20 0.010 170);    /* #2A302E Beryl Black Green - Sidebar */

    --background-elevated-primary: oklch(0.27 0.012 165); /* #3A403E Tamahagane - Elevated 1 */
    --background-elevated-secondary: oklch(0.40 0.008 175); /* #606565 Cordite - Elevated 2 */
    --background-elevated-tertiary: oklch(0.50 0.008 170); /* Elevated 3 */

    --background-primary: var(--background-base-secondary);
    --background-secondary: var(--background-elevated-primary);
    --background-tertiary: var(--background-elevated-secondary);

    /* Label Hierarchy - Cool whites and grays */
    --label-primary: oklch(0.82 0.008 270);               /* #CCCAD1 Chrome Chalice - Main text */
    --label-secondary: oklch(0.75 0.010 270);             /* Lighter secondary text */
    --label-tertiary: oklch(0.50 0.008 175);              /* Subtle text */
    --label-quaternary: oklch(0.35 0.010 170);            /* Very subtle */

    /* Fill Hierarchy - Cool slate fills */
    --fill-primary: rgba(96, 101, 101, 0.36);
    --fill-secondary: rgba(96, 101, 101, 0.32);
    --fill-tertiary: rgba(96, 101, 101, 0.24);
    --fill-quaternary: rgba(96, 101, 101, 0.18);

    /* Separators - Cool slate tint */
    --separator-opaque: rgba(204, 202, 209, 0.15);
    --separator-translucent: rgba(204, 202, 209, 0.08);

    /* Materials - Glassmorphism with slate tint */
    --material-thin: rgba(27, 34, 32, 0.7);
    --material-regular: rgba(27, 34, 32, 0.85);
    --material-thick: rgba(27, 34, 32, 0.92);
    --material-ultra-thick: rgba(27, 34, 32, 0.97);

    /* Legacy tokens */
    --background: var(--background-primary);
    --foreground: var(--label-primary);
    --foreground-muted: var(--label-secondary);

    --card: var(--background-secondary);
    --card-foreground: var(--label-primary);

    --popover: var(--background-elevated-primary);
    --popover-foreground: var(--label-primary);

    /* Brand colors - Teal green themed */
    --primary: oklch(0.60 0.11 162);                      /* #2D916F brightened for dark mode */
    --primary-foreground: oklch(0.82 0.008 270);

    --secondary: var(--background-elevated-tertiary);
    --secondary-foreground: var(--label-primary);

    /* Muted/subtle colors */
    --muted: var(--background-elevated-secondary);
    --muted-foreground: oklch(0.60 0.008 175);

    --accent: oklch(0.32 0.015 165);
    --accent-foreground: oklch(0.60 0.11 162);

    /* Semantic colors */
    --destructive: oklch(0.60 0.33 25);
    --destructive-foreground: oklch(0.98 0 0);

    --success: oklch(0.62 0.25 160);
    --success-foreground: oklch(0.98 0 0);

    --warning: oklch(0.70 0.25 80);
    --warning-foreground: oklch(0.15 0 0);

    --info: oklch(0.60 0.25 240);
    --info-foreground: oklch(0.98 0 0);

    /* UI elements */
    --border: var(--separator-opaque);
    --input: var(--background-elevated-secondary);
    --ring: oklch(0.60 0.11 162);

    /* Window glassmorphism */
    --window-glass: var(--material-regular);

    /* Sidebar colors - slate theme */
    --sidebar: var(--background-base-tertiary);
    --sidebar-glass: var(--material-regular);
    --sidebar-foreground: oklch(0.75 0.010 270);
    --sidebar-foreground-muted: oklch(0.50 0.008 175);
    --sidebar-primary: oklch(0.60 0.11 162);
    --sidebar-primary-foreground: oklch(0.82 0.008 270);
    --sidebar-accent: rgba(96, 101, 101, 0.25);
    --sidebar-accent-foreground: oklch(0.82 0.008 270);
    --sidebar-hover: rgba(96, 101, 101, 0.18);
    --sidebar-border: var(--separator-opaque);
    --sidebar-ring: oklch(0.60 0.11 162);

    /* Chat UI colors - slate theme */
    --chat-input-outer: oklch(0.23 0.010 170);
    --chat-input-border: var(--separator-opaque);
    --chat-input-inner: oklch(0.29 0.012 165);
    --chat-button-selected: oklch(0.35 0.015 170);
    --chat-button-default: oklch(0.27 0.010 168);

    /* shadcn sidebar compat (HSL) */
    --sidebar-background: 170 10% 18%;

    /* Status Bar colors - slate theme */
    --statusbar-bg: oklch(0.18 0.010 170);
    --statusbar-border: var(--separator-opaque);
    --statusbar-label: oklch(0.60 0.008 175);
    --statusbar-value: oklch(0.50 0.008 175);
    --statusbar-progress-bg: rgba(96, 101, 101, 0.15);

    /* StatusBar progress colors */
    --statusbar-progress-green: var(--success);
    --statusbar-progress-yellow: var(--warning);
    --statusbar-progress-orange: var(--warning);
    --statusbar-progress-red: var(--destructive);

    /* Git status colors */
    --status-merged: oklch(0.65 0.28 290);
    --status-working: oklch(0.72 0.20 60);
    --status-synced: oklch(0.65 0.25 160);

    /* Glass/Overlay effects */
    --glass-bg: var(--material-regular);
    --glass-border: var(--separator-opaque);
    --glass-hover: rgba(96, 101, 101, 0.18);

    /* Additional semantic names */
    --text-muted: var(--label-tertiary);
    --bg-card: var(--background-secondary);
    --bg-card-elevated: var(--background-tertiary);
    --bg-section: var(--background-primary);

    /* Overlay system - slate-tinted */
    --overlay-thin: rgba(96, 101, 101, 0.08);
    --overlay-light: rgba(96, 101, 101, 0.12);
    --overlay-medium: rgba(96, 101, 101, 0.18);
    --overlay-strong: rgba(96, 101, 101, 0.25);

    /* Modal/Dialog backdrop overlays */
    --overlay-backdrop: rgba(0, 0, 0, 0.6);
    --overlay-backdrop-light: rgba(0, 0, 0, 0.4);
    --overlay-backdrop-strong: rgba(0, 0, 0, 0.75);

    /* Interactive state tokens */
    --state-hover: var(--overlay-light);
    --state-active: var(--overlay-medium);
    --state-focus-ring: var(--ring);
    --state-disabled-opacity: 0.5;

    /* Border overlays - slate-tinted */
    --border-thin: rgba(204, 202, 209, 0.08);
    --border-light: rgba(204, 202, 209, 0.12);
    --border-medium: rgba(204, 202, 209, 0.18);

    /* Circuit brand color */
    --circuit-green: oklch(0.60 0.11 162);                /* #2D916F brightened for dark mode */
    --circuit-error: var(--destructive);

    /* Code block surfaces */
    --code-bg: var(--background-secondary);
    --code-border: var(--separator-opaque);
    --code-header: var(--fill-quaternary);

    --command-bg: var(--background-elevated-tertiary);
    --command-border: var(--separator-opaque);
    --command-header: var(--fill-secondary);
    --command-accent: var(--label-tertiary);

    --diff-bg: var(--code-bg);
    --diff-border: var(--code-border);
    --diff-header: var(--code-header);
    --diff-addition: var(--success);
    --diff-deletion: var(--destructive);
  }
}
