# 브라우저 탭 기능 - 쉬운 설명

## 🎯 우리가 만들려는 것

**한 문장 요약**: 개발 중인 웹사이트를 Octave 안에서 바로 보면서, 마음에 안 드는 UI 요소를 클릭하면 AI가 그 부분을 고치는 코드를 자동으로 만들어주는 기능

---

## 📖 스토리로 이해하기

### 현재 상황 (Before)

당신은 버튼 색상을 바꾸고 싶습니다. 지금은 이렇게 해야 합니다:

1. Chrome에서 웹사이트 열기
2. 개발자 도구 열기 (F12)
3. 버튼 위에 마우스 올리고 Inspect 클릭
4. CSS 코드 찾아서 복사
5. VS Code로 돌아가기
6. AI 채팅에 "이 버튼 색 바꿔줘" + CSS 붙여넣기
7. AI가 코드 생성
8. 파일 찾아서 코드 수정
9. 다시 Chrome으로 가서 확인
10. 마음에 안 들면 1번부터 다시...

**문제**: 너무 많은 창, 너무 많은 클릭, 너무 많은 복붙

---

### 새로운 방식 (After)

이제는 이렇게 할 수 있습니다:

1. Octave에서 브라우저 탭 열기 → 자동으로 내 웹사이트 표시
2. "🔍 Inspect" 버튼 클릭
3. 버튼 위에 마우스만 올리면 → 자동으로 하이라이트
4. 버튼 클릭 → 오른쪽에 버튼 정보 표시 (크기, 색상, 위치 등)
5. "Add to Chat" 버튼 클릭
6. AI에게 "파란색으로 바꿔줘" 입력
7. AI가 알아서 올바른 파일, 올바른 위치에 코드 생성
8. 바로 브라우저에 반영됨 (자동 새로고침)

**해결**: 모든 것이 한 화면 안에서, 클릭 몇 번으로 끝

---

## 🏗️ 어떻게 작동하나요?

### 1단계: 화면 구성

```
┌────────────────────────────────────────────────────────┐
│                     Octave                              │
├─────────┬──────────────────────┬──────────────────────┤
│         │                      │                      │
│  파일   │    브라우저 탭        │    AI 채팅           │
│  목록   │    (당신의 웹사이트)   │    + 선택된 요소     │
│         │                      │                      │
│  📁 src │   ┌──────────────┐   │   💬 채팅 메시지     │
│  📁 css │   │              │   │   ...                │
│  📄 App │   │  [버튼 예제]  │   │                      │
│         │   │              │   │   📋 선택한 요소:     │
│         │   │  [Submit]    │   │   button.submit      │
│         │   │              │   │   (이미지 미리보기)   │
│         │   └──────────────┘   │                      │
│         │                      │   입력: "파란색으로"  │
└─────────┴──────────────────────┴──────────────────────┘
```

**핵심 변화**:
- AI 채팅이 **오른쪽 사이드바**로 이동 (항상 보임)
- 브라우저가 **탭 중 하나**로 추가 (파일 탭 옆에)
- 선택한 요소 정보가 **채팅 아래**에 표시

---

### 2단계: 요소 선택 과정

```
사용자: 버튼 위에 마우스 올림
   ↓
┌─────────────────────────────────┐
│ [Submit] ← 파란색 테두리 표시    │
│                                 │
│ 툴팁:                           │
│ button.submit                   │
│ 120px × 48px                    │
│ 여백: 12px 24px                 │
└─────────────────────────────────┘
   ↓
사용자: 클릭!
   ↓
┌────────────────────────────────┐
│ 오른쪽 패널에 정보 표시:        │
│                                │
│ 📸 [버튼 스크린샷]              │
│                                │
│ 📍 Selector:                   │
│    button.submit               │
│                                │
│ 🎨 색상: #3b82f6               │
│ 📏 크기: 120px × 48px          │
│ 📦 여백: 12px 24px             │
│                                │
│ [Add to Chat] 버튼             │
└────────────────────────────────┘
```

---

### 3단계: AI와 대화

```
당신: "이 버튼을 더 크게 만들고 초록색으로 바꿔줘"
         ↓
AI가 받는 정보:
  - 버튼의 정확한 위치 (button.submit)
  - 현재 스타일 (파란색, 12px 여백 등)
  - 버튼 이미지 (어떻게 생겼는지)
  - 어떤 파일에 있는지 (src/components/Button.tsx)
         ↓
AI 응답: "Button.tsx 파일을 수정했습니다!"

변경사항:
  - backgroundColor: #10b981 (초록색)
  - padding: 16px 32px (더 큰 여백)
  - fontSize: 18px (더 큰 글씨)
         ↓
브라우저 탭 자동 새로고침 → 바로 확인!
```

---

## 🔧 기술적으로는 어떻게 만들어지나요?

### 비유로 이해하기

#### 비유 1: 투명한 오버레이

Inspect 모드는 마치 **투명한 플라스틱 시트를 웹사이트 위에 올린 것**과 같습니다:

- 마우스를 올리면 → 그 위치에 있는 요소를 찾아서
- 파란색 테두리를 그려줌 (실제 웹사이트는 건드리지 않음)
- 클릭하면 → 그 요소의 모든 정보를 캡처

#### 비유 2: CCTV와 분석 AI

브라우저는 **CCTV**이고, Element Inspector는 **분석 AI**입니다:

- CCTV (브라우저): 웹사이트를 보여줌
- 분석 AI: "저 버튼은 이런 구조고, 이런 스타일이고, 이런 위치야"
- 당신: "저거 바꿔줘"
- 코딩 AI: "알았어, 이렇게 고치면 돼"

---

### 핵심 구성 요소

#### 1. **브라우저 패널** (BrowserPanel)
- **역할**: 웹사이트를 Octave 안에 띄워주는 창
- **기능**:
  - URL 입력해서 이동
  - 뒤로/앞으로/새로고침 버튼
  - Inspect 모드 켜기/끄기
  - 개발자 도구 열기

#### 2. **브라우저 매니저** (BrowserManager)
- **역할**: 실제 브라우저를 관리하는 뒤편 시스템
- **기능**:
  - 브라우저 켜기/끄기
  - 창 크기 조절할 때 브라우저도 따라서 조절
  - Inspect 모드 설정

#### 3. **요소 검사기** (ElementInspector)
- **역할**: 마우스 아래 요소의 정보를 추출하는 탐정
- **기능**:
  - 요소 위치 찾기
  - HTML 코드 가져오기
  - CSS 스타일 가져오기
  - 스크린샷 찍기
  - CSS Selector 생성 (어떻게 찾을지 알려주는 주소)

#### 4. **컨텍스트 패널** (ContextInspectorPanel)
- **역할**: 선택한 요소 정보를 예쁘게 보여주는 정보판
- **표시 내용**:
  - 요소 미리보기 이미지
  - HTML 코드 (색깔 있는 코드)
  - 중요한 CSS 스타일
  - 박스 모델 다이어그램 (크기, 여백 등)
  - "Add to Chat" 버튼

#### 5. **Dev Server 감지기** (DevServerDetector)
- **역할**: 개발 서버가 어디 있는지 자동으로 찾아주는 탐색기
- **동작 방식**:
  - package.json 파일 읽기 → "아, Vite 쓰는구나"
  - 포트 번호 확인 → "3000번이네"
  - localhost:3000 확인 → "서버 켜져 있어!"
  - 자동으로 브라우저 탭 열기

---

## 📅 만드는 순서 (7단계)

### 1주차: 기초 공사

#### 1단계: UI 재배치 (2-3일)
**뭘 하나요?**
- AI 채팅을 오른쪽 사이드바로 옮기기
- 위아래로 나눠서 위는 채팅, 아래는 요소 정보 표시

**완료 기준**:
- [ ] 채팅이 오른쪽에 고정됨
- [ ] 파일 탭은 그대로 작동
- [ ] 아무것도 고장나지 않음

---

#### 2단계: 브라우저 탭 추가 (3-4일)
**뭘 하나요?**
- 파일 탭 옆에 "브라우저" 탭 추가
- URL 입력하면 해당 웹사이트가 탭 안에 표시됨

**완료 기준**:
- [ ] 브라우저 탭 만들 수 있음
- [ ] URL 입력하면 페이지 뜸
- [ ] 뒤로/앞으로/새로고침 버튼 작동
- [ ] 파일 탭과 브라우저 탭 전환 가능

---

### 2주차: 스마트 기능

#### 3단계: 자동 Dev Server 감지 (2일)
**뭘 하나요?**
- 워크스페이스 열면 자동으로 개발 서버 찾기
- 찾으면 자동으로 브라우저 탭 열기

**완료 기준**:
- [ ] Vite 프로젝트 열면 자동으로 localhost:5173 열림
- [ ] Next.js 프로젝트 열면 자동으로 localhost:3000 열림
- [ ] 서버 안 켜져 있으면 "서버를 켜주세요" 메시지

---

#### 4단계: Inspect 모드 구현 (4-5일)
**뭘 하나요?**
- 🔍 버튼 누르면 Inspect 모드 켜짐
- 마우스 올리면 요소에 파란 테두리 표시
- 클릭하면 요소 정보 추출

**완료 기준**:
- [ ] Inspect 버튼 누르면 마우스 커서 바뀜
- [ ] 요소 위에 마우스 올리면 테두리 나타남
- [ ] 클릭하면 HTML, CSS, 크기 정보 추출됨
- [ ] 요소 스크린샷 찍힘

---

### 3주차: 통합 및 완성

#### 5단계: 요소 정보 UI (2-3일)
**뭘 하나요?**
- 오른쪽 아래에 선택한 요소 정보 예쁘게 표시
- "Add to Chat" 버튼 추가

**완료 기준**:
- [ ] 요소 스크린샷 표시
- [ ] HTML/CSS 코드가 색깔 있게 표시
- [ ] 박스 모델 다이어그램 표시
- [ ] "Add to Chat" 누르면 채팅에 추가됨

---

#### 6단계: AI 연동 (3-4일)
**뭘 하나요?**
- AI가 요소 정보를 이해하도록 만들기
- AI가 정확한 코드를 생성하도록 만들기

**완료 기준**:
- [ ] AI에게 요소 정보가 전달됨
- [ ] AI가 올바른 CSS Selector 사용
- [ ] 생성된 코드가 올바른 파일에 적용됨
- [ ] 브라우저에서 바로 확인 가능

---

#### 7단계: 안정화 (2-3일)
**뭘 하나요?**
- 버그 수정
- 에러 처리
- 성능 최적화

**완료 기준**:
- [ ] 브라우저 탭이 꺼져도 복구됨
- [ ] Dev Server 재시작해도 작동
- [ ] 메모리 누수 없음
- [ ] 빠르고 부드러움

---

## 💡 사용자 시나리오

### 시나리오 1: 버튼 색상 바꾸기

```
1. 프로젝트 열기
   → 자동으로 브라우저 탭 열림 (localhost:3000)

2. 🔍 Inspect 버튼 클릭

3. 바꾸고 싶은 버튼 위에 마우스
   → 파란 테두리가 버튼을 감싸고
   → 툴팁에 "button.submit, 120×48px" 표시

4. 버튼 클릭
   → 오른쪽 패널에 버튼 정보 표시
   → HTML: <button class="submit">Submit</button>
   → 색상: #3b82f6 (파란색)
   → 크기: 120px × 48px

5. "Add to Chat" 버튼 클릭
   → 채팅 입력창 위에 버튼 이미지 나타남

6. 채팅 입력: "이 버튼 초록색으로 바꿔줘"

7. AI 응답:
   "Button.css를 수정했습니다.
   .submit { background-color: #10b981; }"
   → 코드 자동 적용
   → 브라우저 자동 새로고침
   → 버튼이 초록색으로 바뀜!

8. 마음에 안 들면 바로 다시:
   "좀 더 진한 초록색으로"
   → AI가 즉시 수정
```

---

### 시나리오 2: 레이아웃 고치기

```
1. 웹사이트 보니까 두 버튼이 너무 붙어있음

2. Inspect 모드로 첫 번째 버튼 클릭

3. "Add to Chat"

4. 두 번째 버튼도 클릭해서 "Add to Chat"

5. 채팅: "이 두 버튼 사이에 간격 좀 넣어줘"

6. AI가 두 버튼 정보를 보고:
   "첫 번째 버튼에 margin-right: 16px 추가했습니다"
   → 즉시 적용
   → 버튼 사이에 간격 생김

7. 확인: "완벽해!"
```

---

## 🎨 화면 흐름도

### Before (현재)

```
Chrome           VS Code          AI Chat
  ↓                ↓                ↓
[웹사이트]  ←→  [코드 편집]  ←→  [대화]
  ↓                ↓                ↓
개발자 도구       파일 찾기         복붙
  ↓                ↓                ↓
CSS 복사         코드 수정         질문
  ↓                ↓                ↓
붙여넣기         저장             답변
  ↓                                ↓
새로고침  ←───────────────────  코드 받기
```

### After (새 방식)

```
         Octave (한 화면)
┌────────────────────────────────┐
│ 브라우저   │   채팅              │
│           │                    │
│ [웹사이트] │   💬 "바꿔줘"       │
│     ↓     │        ↓           │
│  🔍 클릭   │   🤖 "수정완료"     │
│     ↓     │        ↓           │
│ 정보 추출  →  자동 전달          │
│           ←  코드 적용          │
│     ↓     │                    │
│ 자동 갱신  │                    │
└────────────────────────────────┘
```

---

## ❓ 자주 묻는 질문

### Q1: 어떤 웹사이트든 열 수 있나요?
**A**: 네! localhost 개발 서버뿐만 아니라 외부 웹사이트(예: google.com)도 열 수 있습니다. 하지만 Element Inspect는 자신의 프로젝트에서 가장 유용합니다.

### Q2: Inspect 모드는 Chrome DevTools랑 똑같나요?
**A**: 비슷하지만 더 간단합니다. Chrome DevTools의 모든 기능은 아니고, "요소 선택 → 정보 추출 → AI에게 전달" 워크플로우에 최적화되어 있습니다.

### Q3: Dev Server가 없으면 어떻게 하나요?
**A**: 수동으로 URL을 입력하면 됩니다. 예를 들어 Next.js 앱을 Vercel에 배포했다면, 그 URL을 입력해서 볼 수 있습니다.

### Q4: 여러 브라우저 탭을 동시에 열 수 있나요?
**A**: 네! 파일 탭처럼 여러 브라우저 탭을 열고 전환할 수 있습니다. 예를 들어:
- 탭 1: localhost:3000 (메인 앱)
- 탭 2: localhost:3001 (Storybook)
- 탭 3: localhost:6006 (문서 사이트)

### Q5: 모바일 화면은 어떻게 보나요?
**A**: 초기 버전에서는 데스크톱 화면만 지원하지만, 향후 업데이트에서 반응형 테스트 기능(여러 화면 크기 동시 표시)을 추가할 계획입니다.

### Q6: AI가 잘못된 코드를 생성하면요?
**A**: 채팅에서 바로 피드백하면 됩니다. 예: "아니야, 버튼이 아니라 배경색을 바꿔야 해". AI가 다시 수정합니다. 또한 Element 정보가 정확하기 때문에 오류율이 낮습니다.

---

## 🚀 핵심 가치

### 1. **한 화면에서 모든 것**
- 코드, 브라우저, AI 채팅이 한 곳에
- 창 전환 필요 없음
- 컨텍스트 유지

### 2. **클릭 한 번으로 컨텍스트 전달**
- 복붙 필요 없음
- 스크린샷 자동 캡처
- 정확한 정보 전달

### 3. **즉각적인 피드백 루프**
- AI가 코드 생성 → 파일 적용 → 브라우저 갱신
- 몇 초 안에 결과 확인
- 마음에 안 들면 바로 다시 수정

### 4. **제로 설정**
- 프로젝트 열면 자동으로 Dev Server 감지
- 브라우저 탭 자동 생성
- 그냥 시작하면 됨

---

## 📊 성공 지표

### 개발자 경험 개선
- **Before**: 버튼 색 바꾸는데 10단계, 5분 소요
- **After**: 3단계, 30초 소요

### 워크플로우 효율
- **Before**: 창 5개 (Chrome, VS Code, AI Chat, 파일 탐색기, 터미널)
- **After**: 창 1개 (Octave)

### AI 정확도
- **Before**: "이 버튼"이 어떤 버튼인지 AI가 모름 → 잘못된 코드 생성
- **After**: Element 정보가 정확히 전달됨 → 90%+ 정확도

---

## 🎯 Next Steps

이 문서를 읽고 나면:

1. **기술 문서 읽기**: `BROWSER_TAB_ARCHITECTURE.md` - 구현 세부사항
2. **이슈 생성**: GitHub에 개별 milestone 이슈 만들기
3. **우선순위 결정**: 어떤 단계부터 시작할지 결정
4. **개발 시작**: Phase 1부터 차근차근 구현

---

## 📝 요약

**이 기능은 무엇인가요?**
> Octave 안에 브라우저를 넣고, 클릭 한 번으로 UI 요소를 AI에게 보내서 코드를 자동으로 고치는 기능

**왜 필요한가요?**
> 창 전환, 복붙, 파일 찾기 등의 번거로움을 없애고, 디자인 수정을 몇 초 만에 끝내기 위해

**어떻게 만드나요?**
> 7단계 (UI 재배치 → 브라우저 탭 → Dev Server 감지 → Inspect 모드 → 요소 정보 UI → AI 연동 → 안정화)

**언제 완성되나요?**
> 약 3주 (각 단계별 2-5일)

**누가 사용하나요?**
> 웹 개발자, 특히 UI/UX를 자주 수정하는 프론트엔드 개발자

**왜 이게 혁신적인가요?**
> 처음으로 "보고 → 선택하고 → AI가 고치는" 완전한 비주얼 워크플로우를 제공

---

궁금한 점이 있거나 더 자세한 설명이 필요하면 언제든지 물어보세요!
